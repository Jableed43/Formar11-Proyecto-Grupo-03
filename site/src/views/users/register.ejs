<%- include("../partials/head.ejs") %>

  <body class="log-reg">

    <%- include("../partials/header.ejs") %>

      <main class="login-register">

          <section class="imagen">
            <img src="/images/register.png" style="width:100%">
          </section>

          
          <section class="camposform">
          <h1>¡Sumate a Tacopado!</h1>
          <form action="register" method="post" enctype="multipart/form-data">

            <div class="campo">
              <label for="user">Nombre Completo</label>
              <input type="text" value="<%= locals.old && old.name ? old.name : '' %>" id="name" name="name" placeholder="Ingrese nombre completo...">
              <% if (locals.errores && errores.name) { %>
                <small class="mensajeError">
                  <%= errores.name.msg %>
                </small>
                <% } %>

                <small class="js-name"> </small>
            </div>

            <div class="campo">
              <label for="user">Correo Electrónico</label>
              <input type="text" value="<%= locals.old && old.email ? old.email : '' %>" id="email" name="email" placeholder="Ingrese e-mail...">
              <% if (locals.errores && errores.email) { %>
                <small class="mensajeError">
                  <%= errores.email.msg %>
                </small>
                <% } %>
                <small class="js-email"> </small>

            </div>

            <div class="campo">
              <label for="password">Contraseña</label>
              <input type="password" id="password" name="password" placeholder="Ingrese contraseña...">
            <% if (locals.errores && errores.password) { %>
              <small class="mensajeError"> <%= errores.password.msg %> </small>
              <% } %>
              <small class="js-password"> </small>

            </div>

            <div class="campo">
              <label for="password2">Confirmar Contraseña</label>
              <input type="password" id="password2" name="password2" placeholder="Ingrese contraseña...">
            <% if (locals.errors && errors.password2) { %>
              <small class="mensajeError"> <%= errors.password2.msg %> </small>
              <% } %>
              <small class="js-password2"> </small>

            </div>

            <div class="campo">
            <label for="sexo">Sexo</label>
            <select name="sexo" id="sexo">
              <option name="sexo" value="" selected hidden>Seleccione aquí</option>

                <% sexes.forEach(sex=> { %>
                  <option value="<%= sex.id %>" <%= locals.old && old.id_sex === sex.id  ? 'selected' : null%>><%= sex.name %></option>
                <% }) %>
              </select>
              <% if (locals.errores && errores.sexo) { %>
                <small class="mensajeError"> <%= errores.sexo.msg %> </small>
                <% } %> 
                <small class="js-sexo"> </small>

          </div>

            <div class="campo">
            <label for="provincia">Provincia</label>
            <select name="provincia" id="provincia">
              <option value="" selected hidden>Seleccione aquí</option>
              <% provinces.forEach(province=> { %>
                <option value="<%= province.id %>" <%= locals.old && old.id_province === province.id  ? 'selected' : null%>><%= province.name %></option>
              <% }) %>
            </select>
            <% if (locals.errores && errores.provincia) { %>
              <small class="mensajeError"> <%= errores.provincia.msg %> </small>
              <% } %>
              <small class="js-provincia"> </small>

          </div>

          <div class="campo">
          <label>Selecciona una foto de perfil</label>
          <div class="buttons">
          <label for="img" >Subir imagen</label>
          <input type="file" id="img" name="img" hidden multiple accept="image/*">
          </div>
          <% if (locals.errores && errores.img) { %>
            <small class="mensajeError"> <%= errores.img.msg %> </small>
            <% } %>
            <small class="js-img"> </small>

          </div>

                <!-- Div de errores -->
                <div id="divError"> <ul></ul> </div>
            </div>

 

            
              <p>Al crear una cuenta, aceptas las <a href="#">Condiciones de uso</a> y <a href="#">Aviso de
                  privacidad</a> de Tacopado</p>
              <div class="buttons">
              <label for="submit">Registrarme</label>
              <input type="submit" id="submit" value="Registrarme" hidden>
              </div>

              <div>
                <p>¿Ya tenes una cuenta?</p>
                <div class="buttons">
                <a href="/users/login" id="login" value="login">Iniciá sesión</a>
              </div>

          </form>
        </section>


      </main>

      <%- include("../partials/footer.ejs") %>
      <script src="/javascripts/validacion-register.js"></script>
  </body>

  </html>